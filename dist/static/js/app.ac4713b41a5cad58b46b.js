webpackJsonp([1],{0:function(t,a){},"34KM":function(t,a){},"355m":function(t,a){},"8kan":function(t,a){},"9RWj":function(t,a){},D8LU:function(t,a){},NHnr:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("EqYI"),n={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},staticRenderFns:[]};var i=e("C7Lr")({name:"App"},n,!1,function(t){e("8kan")},"data-v-4706d536",null).exports,r=e("e1F6"),o={name:"Login",data:function(){return{lo:{act:"login",username:"",password:""}}},methods:{init:function(){this.attrInit(),this.particlesInit()},attrInit:function(){var t=this.$refs.box,a=document.documentElement.clientWidth||document.body.clientWidth,e=document.documentElement.clientHeight||document.body.clientHeight;this.$refs.loginWrapper.style.height=e,t.style.left=(a-t.offsetWidth)/2+"px",t.style.top=(e-t.offsetHeight)/2-80+"px"},lo_submit:function(){var t=this;for(var a in this.lo)if(""===this.lo[a])return void this.$message({message:"请输入完整的登录信息",type:"warning"});this.$http.post("/api/login",this.lo).then(function(a){var e=a.data,s=e.status;0===parseInt(s)?(t.$message({message:"登录成功",type:"success"}),console.log(e),t.$router.push({path:"/manager"})):t.$message.error("账号或密码错误")})},particlesInit:function(){particlesJS("particles-js",{particles:{number:{value:380,density:{enable:!0,value_area:800}},color:{value:"#999"},shape:{type:"circle",stroke:{width:0,color:"#000000"},polygon:{nb_sides:5},image:{src:"img/github.svg",width:100,height:100}},opacity:{value:.5,random:!1,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:2,random:!0,anim:{enable:!1,speed:40,size_min:.1,sync:!1}},line_linked:{enable:!0,distance:100,color:"#999",opacity:.6,width:1},move:{enable:!0,speed:3,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"grab"},onclick:{enable:!0,mode:"push"},resize:!0},modes:{grab:{distance:140,line_linked:{opacity:1}},bubble:{distance:400,size:40,duration:2,opacity:8,speed:3},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0})}},mounted:function(){this.init()}},l={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{ref:"loginWrapper",staticClass:"login"},[e("div",{ref:"box",staticClass:"box"},[e("h1",[t._v("WeShare")]),t._v(" "),e("h2",[t._v("生活热爱分享-Thousands Find")]),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"loginWrapper"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.lo.username,expression:"lo.username"}],staticClass:"txt",attrs:{type:"text",placeholder:"用户名"},domProps:{value:t.lo.username},on:{input:function(a){a.target.composing||t.$set(t.lo,"username",a.target.value)}}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.lo.password,expression:"lo.password"}],staticClass:"txt",attrs:{type:"password",placeholder:"密码"},domProps:{value:t.lo.password},on:{input:function(a){a.target.composing||t.$set(t.lo,"password",a.target.value)}}}),t._v(" "),e("input",{staticClass:"submit",attrs:{type:"button",value:"提交"},on:{click:t.lo_submit}})])]),t._v(" "),e("div",{attrs:{id:"particles-js"}})])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("p",[a("a",{staticClass:"active",attrs:{href:"javascript:void(0);"}},[this._v("管理员登录")])])}]};var c=e("C7Lr")(o,l,!1,function(t){e("9RWj")},"data-v-05a0f74d",null).exports,u={name:"manager",data:function(){return{isCollapse:!1,manageData:null}},methods:{handleOpen:function(t,a){},handleClose:function(t,a){},triggerClick:function(){this.isCollapse=!this.isCollapse},checkUser:function(){var t=this;this.$http.post("/api/login",{act:"getLoginUser"}).then(function(a){var e=a.data,s=parseInt(e.user_id);if(console.log(s),-1===s)return t.$router.replace({path:"/login"}),""})}},computed:{routeData:function(){return null===this.manageData?null:this.manageData.nav.barsDetail.Home}},mounted:function(){this.checkUser()}},p={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"manager"},[t._m(0),t._v(" "),e("div",{staticClass:"meanu"},[e("div",{staticClass:"operate"},[e("p",{staticClass:"control-icon",on:{click:t.triggerClick}},[e("i",{class:{"el-icon-d-arrow-right":t.isCollapse,"el-icon-d-arrow-left":!t.isCollapse}})]),t._v(" "),e("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"1-4-1",collapse:t.isCollapse,"background-color":"#333744","text-color":"#fff","active-background-color":"#00C1DE"},on:{open:t.handleOpen,close:t.handleClose}},[e("el-menu-item",{attrs:{index:"1"}},[e("router-link",{attrs:{to:"/manager",tag:"div"}},[e("i",{staticClass:"el-icon-s-data"}),t._v(" "),e("span",[t._v("首页")])])],1),t._v(" "),e("el-menu-item",{attrs:{index:"2"}},[e("router-link",{attrs:{to:"/manager/nav",tag:"div"}},[e("i",{staticClass:"el-icon-picture-outline-round"}),t._v(" "),e("span",[t._v("图片审核")])])],1),t._v(" "),e("el-menu-item",{attrs:{index:"3"}},[e("router-link",{attrs:{to:"/manager/imagemanage",tag:"div"}},[e("i",{staticClass:"el-icon-picture-outline"}),t._v(" "),e("span",[t._v("图片管理")])])],1),t._v(" "),e("el-menu-item",{attrs:{index:"4"}},[e("router-link",{attrs:{to:"/manager/barrage",tag:"div"}},[e("i",{staticClass:"el-icon-s-operation"}),t._v(" "),e("span",[t._v("弹幕管理")])])],1),t._v(" "),e("el-menu-item",{attrs:{index:"5"}},[e("router-link",{attrs:{to:"/manager/usermanage",tag:"div"}},[e("i",{staticClass:"el-icon-user-solid"}),t._v(" "),e("span",[t._v("用户管理")])])],1)],1)],1),t._v(" "),e("div",{staticClass:"content"},[e("router-view",{attrs:{mydata:t.routeData}})],1)])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"banner"},[a("div",{staticClass:"logo"},[a("img",{staticStyle:{width:"25px",height:"25px","margin-top":"-5px",position:"absolute",left:"17px",top:"11px"},attrs:{src:e("vW+b"),alt:""}}),this._v(" "),a("span",[this._v("WeShare")])]),this._v(" "),a("div",{staticClass:"title"},[a("div",{staticClass:"base-info"},[this._v("后台管理系统")]),this._v(" "),a("div",{staticClass:"person-info"})])])}]};var h=e("C7Lr")(u,p,!1,function(t){e("Rzua")},"data-v-56ae11b5",null).exports,d={name:"PhoneView",props:{auto:{type:Boolean,default:!1},bottom:{type:String,default:"0"},left:{type:String,default:"0"},status:{type:Number,default:1},src:{type:String,default:""}},data:function(){return{msg:"Welcome to Your Vue.js App",num:this.status,arr:[{w:"9.5rem",h:"calc(100% - 70px)",pad:"0"},{w:"1.9rem",h:"3.5rem",pad:"0.58rem 0.12rem 0.5rem 0.12rem"},{w:"3.5rem",h:"1.9rem",pad:"0.2rem 0.49rem 0.11rem 0.45rem"},{w:"5.2rem",h:"3.5rem",pad:"0.2rem 0.8rem 0.2rem 0.7rem"},{w:"3.5rem",h:"4.55rem",pad:"0.65rem 0.21rem 0.43rem 0.21rem"}]}},methods:{autoGo:function(){var t=this;this.auto&&(this.$refs.phoneWrapper.timer=setInterval(function(){t.num++,t.num>=t.arr.length&&(t.num=1)},3e3))},init:function(){this.changeStatus()},changeStatus:function(){var t=this.$refs.phoneWrapper;this.$refs.phoneWrapper.style.left=this.left,this.$refs.phoneWrapper.style.bottom=this.bottom,t.style.width=this.arr[this.num].w,t.style.height=this.arr[this.num].h,t.style.padding=this.arr[this.num].pad,t.style.backgroundImage='url("/static/img/phone/iphone'+(this.num-1)+'.png")'}},watch:{num:{handler:function(){this.changeStatus()}},status:{handler:function(t){this.num=t}}},mounted:function(){this.init(),this.autoGo()},computed:{phoneW:function(){return this.$refs.phoneWrapper.offsetHeight}}},m={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{ref:"phoneWrapper",staticClass:"phoneview"},[a("div",{ref:"phoneContent",staticClass:"iponeContent",style:"background-image:url('"+this.src+"')"})])},staticRenderFns:[]};var g=e("C7Lr")(d,m,!1,function(t){e("OgM9")},"data-v-21b94866",null).exports,v={name:"Shadow",props:{src:{type:String,default:""}},data:function(){return{ifshow:!1,status:0,PATH:"/static/upload/"}},methods:{},components:{PhoneView:g}},f={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.ifshow,expression:"ifshow"}],staticClass:"shadow"},[e("PhoneView",{attrs:{status:t.status,bottom:"-47px",src:""+t.src}}),t._v(" "),e("div",{staticClass:"img"},[e("div",{directives:[{name:"show",rawName:"v-show",value:0===t.status,expression:"status===0"}],staticClass:"infoWrapper"},[e("span",{staticClass:"close2",on:{click:function(a){t.ifshow=!1}}})])]),t._v(" "),e("ul",{staticClass:"hidden-xs device"},t._l(5,function(a,s){return e("li",{key:s,class:{active:t.status===s},on:{click:function(a){t.status=s}}})}),0)],1)])},staticRenderFns:[]};var b=e("C7Lr")(v,f,!1,function(t){e("ZMBT")},"data-v-474be064",null).exports,D="http://47.115.157.254:8081/static/upload/",w={name:"navs",data:function(){return{dialogVisible:!1,tableData:[],curIndex:0,proxyInfo:"",isImgDataLoaded:!1,PATH:D,pageSize:4,rawTableData:[],pageTableData:[],nowShadowPic:"",isDataLoaded:!1}},computed:{curInfo:{get:function(){return this.tableData[this.curIndex].name},set:function(t){this.proxyInfo=t}},hasData:function(){return this.pageTableData.length>0}},methods:{scalePic:function(t){this.$refs.shadow.ifshow=!0,this.nowShadowPic=t.src},pass:function(t,a,e){var s=this,n=this;this.$http.post("/api/alterImgStatus",{act:"pass",imgId:t}).then(function(t){var a=t.data;0===parseInt(a.status)?n.$message({message:"操作成功，审核通过！",type:"success"}):s.$message.error("操作失败，服务器出错！")}),e.splice(a,1)},unpass:function(t,a,e){var s=this,n=this;this.$http.post("/api/alterImgStatus",{act:"unpass",imgId:t}).then(function(t){var a=t.data;0===parseInt(a.status)?n.$message({message:"操作成功，审核不通过！",type:"success"}):s.$message.error("操作失败，服务器出错！")}),e.splice(a,1)},freshTableByPage:function(t){this.tableData=this.pageTableData[t-1]},init:function(){var t=this,a=this;this.$http.post("/api/getUserLoadedImg").then(function(e){for(var s=e.data,n=0;n<s.length;n++){var i={};i.src=""+D+s[n].src,i.id=s[n].ID,i.uploader=s[n].username,i.imgType=s[n].TYPEID,a.rawTableData.push(i)}t.$http.post("/api/getTypes").then(function(t){var e=t.data;if(e.length>0)for(var s=0;s<a.rawTableData.length;s++)for(var n=0;n<e.length;n++)parseInt(a.rawTableData[s].imgType)===parseInt(e[n].ID)&&(a.rawTableData[s].typename=e[n].typename);for(var i=[],r=0,o=0;o<a.rawTableData.length;o++)r===a.pageSize&&(r=0,a.pageTableData.push(i),i=[]),i.push(a.rawTableData[o]),r++;i.length>0&&a.pageTableData.push(i),a.pageTableData.length>0&&(a.tableData=a.pageTableData[0]),a.tableData.length>0&&(a.isImgDataLoaded=!0),a.isDataLoaded=!0})})}},mounted:function(){this.init()},components:{Shadow:b}},_={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.isDataLoaded?e("div",{staticClass:"nav"},[e("el-breadcrumb",{staticClass:"path-nav",attrs:{separator:"/"}},[e("el-breadcrumb-item",[t._v("首页")]),t._v(" "),e("el-breadcrumb-item",[t._v("图片审核")])],1),t._v(" "),t.isImgDataLoaded?e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[e("el-table-column",{attrs:{label:"编号",type:"index",width:"180"}}),t._v(" "),e("el-table-column",{attrs:{label:"上传者",prop:"uploader",width:"180"}}),t._v(" "),e("el-table-column",{attrs:{label:"图片分类",prop:"typename",width:"180"}}),t._v(" "),e("el-table-column",{attrs:{prop:"image",label:"图片",width:"180"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("img",{staticStyle:{height:"100px",width:"150px",cursor:"zoom-in"},attrs:{src:a.row.src},on:{click:function(e){return t.scalePic(a.row)}}})]}}],null,!1,1824432811)}),t._v(" "),e("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"small",circle:""},on:{click:function(e){return t.pass(a.row.id,a.$index,t.tableData)}}}),t._v(" "),e("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"small",circle:""},on:{click:function(e){return t.unpass(a.row.id,a.$index,t.tableData)}}})]}}],null,!1,2040434755)})],1):t._e(),t._v(" "),e("el-alert",{directives:[{name:"show",rawName:"v-show",value:!t.hasData,expression:"!hasData"}],attrs:{title:"无数据",type:"info"}}),t._v(" "),e("Shadow",{ref:"shadow",attrs:{src:t.nowShadowPic}}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.hasData,expression:"hasData"}],staticClass:"pageList"},[e("div",{staticClass:"block"},[e("el-pagination",{attrs:{layout:"prev, pager, next","page-size":t.pageSize,total:t.rawTableData.length},on:{"current-change":t.freshTableByPage}})],1)])],1):t._e()},staticRenderFns:[]};var y=e("C7Lr")(w,_,!1,function(t){e("USGI")},"data-v-24027d52",null).exports,x={name:"mainpage",data:function(){return{option:{tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},toolbox:{feature:{dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}}},legend:{data:["未通过审核数目","待审核数目","总数目（通过审核数目+未通过审核数目）"]},xAxis:[{type:"category",axisLabel:{interval:0},data:["food","animal","natural","pserson","simple","sky","city","comic","game","space","healthy","happiness"],axisPointer:{type:"shadow"}}],yAxis:[{type:"value",name:"数目",min:0,interval:50,axisLabel:{formatter:"{value} 张"}},{type:"value",name:"数目",min:0,interval:5,axisLabel:{formatter:"{value} 张"}}],series:[{name:"未通过审核数目",type:"bar",data:[0,0,0,0,0,0,0,0,0,0,0,0]},{name:"待审核数目",type:"bar",data:[0,0,0,0,0,0,0,0,0,0,0,0]},{name:"总数目（通过审核数目+未通过审核数目）",type:"line",yAxisIndex:1,data:[0,0,0,0,0,0,0,0,0,0,0,0]}]},myChart:null}},methods:{initTable:function(){null===this.myChart?(this.myChart=echarts.init(document.getElementById("commit-wrapper")),this.myChart.setOption(this.option)):this.myChart.setOption(this.option,!0)},initData:function(){var t=this;this.$http.post("/api/getDailyCommit").then(function(a){var e=a.data,s=e.unprocessed,n=e.unpassed;if(0===parseInt(e.status)){for(var i=0;i<n.length;i++)t.option.series[0].data[n[i].TYPEID-1]++;for(var r=0;r<s.length;r++)t.option.series[1].data[s[r].TYPEID-1]++;for(var o=0;o<t.option.series[2].data.length;o++)t.option.series[2].data[o]=t.option.series[0].data[o]+t.option.series[1].data[o]}t.initTable()}),this.$http.post("/api/getTypes").then(function(a){var e=a.data;if(e.length>0)for(var s=0;s<e.length;s++)t.option.xAxis[0].data[s]=e[s].typename;t.initTable()})}},mounted:function(){this.initData()}},I={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"mainpage"},[a("el-breadcrumb",{staticClass:"path-nav",attrs:{separator:"/"}},[a("el-breadcrumb-item",[this._v("首页")]),this._v(" "),a("br"),this._v(" "),a("div",{staticClass:"title",staticStyle:{"text-align":"center","font-size":"30px","margin-top":"20px"}},[this._v("今日管理员审核情况统计图")]),this._v(" "),a("div",{staticStyle:{width:"90%",height:"400px","margin-top":"50px"},attrs:{id:"commit-wrapper"}})],1)],1)},staticRenderFns:[]};var T=e("C7Lr")(x,I,!1,function(t){e("m14L")},"data-v-72f66723",null).exports,C={name:"barrage",data:function(){return{dialogVisible:!1,tableData:[],curIndex:0,proxyInfo:"",isImgDataLoaded:!1,pageSize:5,rawTableData:[],pageTableData:[],nowShadowPic:"",isDataLoaded:!1}},computed:{curInfo:{get:function(){return this.tableData[this.curIndex].name},set:function(t){this.proxyInfo=t}},hasData:function(){return this.pageTableData.length>0}},methods:{unpass:function(t,a,e){var s=this,n=this;this.$http.post("/api/manageBarrage",{act:"deleteBarrage",ID:t}).then(function(t){var a=t.data;0===parseInt(a.status)?n.$message({message:"操作成功，弹幕已删除！",type:"success"}):s.$message.error("操作失败，服务器出错！")}),e.splice(a,1)},freshTableByPage:function(t){this.tableData=this.pageTableData[t-1]},init:function(){var t=this;this.$http.post("/api/manageBarrage",{act:"getBarrage"}).then(function(a){for(var e=a.data,s=0;s<e.length;s++){var n={};n.ID=e[s].ID,n.userID=e[s].userID,n.imgID=e[s].imgID,n.content=e[s].content,t.rawTableData.push(n)}for(var i=[],r=0,o=0;o<t.rawTableData.length;o++)r===t.pageSize&&(r=0,t.pageTableData.push(i),i=[]),i.push(t.rawTableData[o]),r++;i.length>0&&t.pageTableData.push(i),t.pageTableData.length>0&&(t.tableData=t.pageTableData[0]),t.tableData.length>0&&(t.isImgDataLoaded=!0),t.isDataLoaded=!0})}},mounted:function(){this.init()}},S={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.isDataLoaded?e("div",{staticClass:"barrage"},[e("el-breadcrumb",{staticClass:"path-nav",attrs:{separator:"/"}},[e("el-breadcrumb-item",[t._v("首页")]),t._v(" "),e("el-breadcrumb-item",[t._v("弹幕管理")])],1),t._v(" "),t.isImgDataLoaded?e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[e("el-table-column",{attrs:{label:"编号",type:"index",width:"180"}}),t._v(" "),e("el-table-column",{attrs:{label:"弹幕ID",prop:"ID",width:"180"}}),t._v(" "),e("el-table-column",{attrs:{label:"弹幕发送者ID",prop:"userID",width:"180"}}),t._v(" "),e("el-table-column",{attrs:{label:"图片ID",prop:"imgID",width:"180"}}),t._v(" "),e("el-table-column",{attrs:{label:"内容",prop:"content",width:"180"}}),t._v(" "),e("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"small",circle:""},on:{click:function(e){return t.unpass(a.row.ID,a.$index,t.tableData)}}})]}}],null,!1,3277475874)})],1):t._e(),t._v(" "),e("el-alert",{directives:[{name:"show",rawName:"v-show",value:!t.hasData,expression:"!hasData"}],attrs:{title:"无数据",type:"info"}}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.hasData,expression:"hasData"}],staticClass:"pageList"},[e("div",{staticClass:"block"},[e("el-pagination",{attrs:{layout:"prev, pager, next","page-size":t.pageSize,total:t.rawTableData.length},on:{"current-change":t.freshTableByPage}})],1)])],1):t._e()},staticRenderFns:[]};var $=e("C7Lr")(C,S,!1,function(t){e("355m")},"data-v-76194662",null).exports,L={name:"usermanage",data:function(){return{dialogVisible:!1,tableData:[],curIndex:0,proxyInfo:"",isImgDataLoaded:!1,PATH:"http://47.115.157.254:8081/static/upload/",pageSize:4,rawTableData:[],pageTableData:[],nowShadowPic:"",isDataLoaded:!1}},computed:{curInfo:{get:function(){return this.tableData[this.curIndex].name},set:function(t){this.proxyInfo=t}},hasData:function(){return this.pageTableData.length>0}},methods:{prohibit:function(t,a,e){var s=this,n=this;this.$http.post("/api/manageUser",{act:"prohibit",ID:t}).then(function(t){var i=t.data;0===parseInt(i.status)?(n.$message({message:"操作成功，用户已被封禁！",type:"success"}),e[a].uStatus="封禁"):s.$message.error("操作失败，服务器出错！")})},unprohibit:function(t,a,e){var s=this,n=this;this.$http.post("/api/manageUser",{act:"unprohibit",ID:t}).then(function(t){var i=t.data;0===parseInt(i.status)?(n.$message({message:"操作成功，用户已被解除封禁！",type:"success"}),e[a].uStatus="正常",console.log(e)):s.$message.error("操作失败，服务器出错！")})},freshTableByPage:function(t){this.tableData=this.pageTableData[t-1]},init:function(){var t=this;this.$http.post("/api/manageUser",{act:"getUser"}).then(function(a){for(var e=a.data,s=0;s<e.length;s++){var n={};n.avatar="http://47.115.157.254:8081/static/upload/"+e[s].avatar,n.ID=e[s].ID,n.username=e[s].username,n.email=e[s].email,n.uStatus=e[s].uStatus,0===parseInt(n.uStatus)?n.uStatus="正常":1===parseInt(n.uStatus)&&(n.uStatus="封禁"),t.rawTableData.push(n)}for(var i=[],r=0,o=0;o<t.rawTableData.length;o++)r===t.pageSize&&(r=0,t.pageTableData.push(i),i=[]),i.push(t.rawTableData[o]),r++;i.length>0&&t.pageTableData.push(i),t.pageTableData.length>0&&(t.tableData=t.pageTableData[0]),t.tableData.length>0&&(t.isImgDataLoaded=!0),t.isDataLoaded=!0})}},mounted:function(){this.init()}},k={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.isDataLoaded?e("div",{staticClass:"usermanage"},[e("el-breadcrumb",{staticClass:"path-nav",attrs:{separator:"/"}},[e("el-breadcrumb-item",[t._v("首页")]),t._v(" "),e("el-breadcrumb-item",[t._v("用户管理")])],1),t._v(" "),t.isImgDataLoaded?e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[e("el-table-column",{attrs:{label:"编号",type:"index",width:"130"}}),t._v(" "),e("el-table-column",{attrs:{label:"用户ID",prop:"ID",width:"130"}}),t._v(" "),e("el-table-column",{attrs:{label:"用户名",prop:"username",width:"130"}}),t._v(" "),e("el-table-column",{attrs:{prop:"avatar",label:"头像",width:"130"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("img",{attrs:{src:t.row.avatar,width:"100",height:"100"}})]}}],null,!1,893051040)}),t._v(" "),e("el-table-column",{attrs:{label:"邮箱",prop:"email",width:"130"}}),t._v(" "),e("el-table-column",{attrs:{label:"状态",prop:"uStatus",width:"130"}}),t._v(" "),e("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"small",circle:"",title:"解除封禁"},on:{click:function(e){return t.unprohibit(a.row.ID,a.$index,t.tableData)}}}),t._v(" "),e("el-button",{attrs:{type:"danger",icon:"el-icon-circle-close",size:"small",circle:"",title:"封禁"},on:{click:function(e){return t.prohibit(a.row.ID,a.$index,t.tableData)}}})]}}],null,!1,225507924)})],1):t._e(),t._v(" "),e("el-alert",{directives:[{name:"show",rawName:"v-show",value:!t.hasData,expression:"!hasData"}],attrs:{title:"无数据",type:"info"}}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.hasData,expression:"hasData"}],staticClass:"pageList"},[e("div",{staticClass:"block"},[e("el-pagination",{attrs:{layout:"prev, pager, next","page-size":t.pageSize,total:t.rawTableData.length},on:{"current-change":t.freshTableByPage}})],1)])],1):t._e()},staticRenderFns:[]};var P=e("C7Lr")(L,k,!1,function(t){e("PEgP")},"data-v-55b5590c",null).exports,z={name:"imagemanage",data:function(){return{dialogVisible:!1,tableData:[],curIndex:0,proxyInfo:"",isImgDataLoaded:!1,PATH:"http://47.115.157.254:8081/static/upload/",pageSize:4,rawTableData:[],pageTableData:[],nowShadowPic:"",isDataLoaded:!1}},computed:{curInfo:{get:function(){return this.tableData[this.curIndex].name},set:function(t){this.proxyInfo=t}},hasData:function(){return this.pageTableData.length>0}},methods:{scalePic:function(t){this.$refs.shadow.ifshow=!0,this.nowShadowPic=t.src},unpass:function(t,a,e){var s=this,n=this;this.$http.post("/api/alterImgStatus",{act:"unpass",imgId:t}).then(function(t){var i=t.data;0===parseInt(i.status)?(n.$message({message:"操作成功，该图片下架！",type:"success"}),e.splice(a,1)):s.$message.error("操作失败，服务器出错！")})},freshTableByPage:function(t){this.tableData=this.pageTableData[t-1]},init:function(){var t=this,a=this;this.$http.post("/api/getHistoryImg").then(function(e){for(var s=e.data,n=0;n<s.length;n++){var i={};i.src="http://47.115.157.254:8081/static/upload/"+s[n].src,i.id=s[n].ID,i.uploader=s[n].username,i.imgType=s[n].TYPEID,a.rawTableData.push(i)}t.$http.post("/api/getTypes").then(function(t){var e=t.data;if(e.length>0)for(var s=0;s<a.rawTableData.length;s++)for(var n=0;n<e.length;n++)parseInt(a.rawTableData[s].imgType)===parseInt(e[n].ID)&&(a.rawTableData[s].typename=e[n].typename);for(var i=[],r=0,o=0;o<a.rawTableData.length;o++)r===a.pageSize&&(r=0,a.pageTableData.push(i),i=[]),i.push(a.rawTableData[o]),r++;i.length>0&&a.pageTableData.push(i),a.pageTableData.length>0&&(a.tableData=a.pageTableData[0]),a.tableData.length>0&&(a.isImgDataLoaded=!0),a.isDataLoaded=!0})})}},mounted:function(){this.init()},components:{Shadow:b}},E={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.isDataLoaded?e("div",{staticClass:"imagemanage"},[e("el-breadcrumb",{staticClass:"path-nav",attrs:{separator:"/"}},[e("el-breadcrumb-item",[t._v("首页")]),t._v(" "),e("el-breadcrumb-item",[t._v("图片管理")])],1),t._v(" "),t.isImgDataLoaded?e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[e("el-table-column",{attrs:{label:"编号",type:"index",width:"180"}}),t._v(" "),e("el-table-column",{attrs:{label:"上传者",prop:"uploader",width:"180"}}),t._v(" "),e("el-table-column",{attrs:{label:"图片分类",prop:"typename",width:"180"}}),t._v(" "),e("el-table-column",{attrs:{prop:"image",label:"图片",width:"180"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("img",{staticStyle:{height:"100px",width:"150px",cursor:"zoom-in"},attrs:{src:a.row.src},on:{click:function(e){return t.scalePic(a.row)}}})]}}],null,!1,1824432811)}),t._v(" "),e("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"small",circle:""},on:{click:function(e){return t.unpass(a.row.id,a.$index,t.tableData)}}})]}}],null,!1,4228612450)})],1):t._e(),t._v(" "),e("el-alert",{directives:[{name:"show",rawName:"v-show",value:!t.hasData,expression:"!hasData"}],attrs:{title:"无数据",type:"info"}}),t._v(" "),e("Shadow",{ref:"shadow",attrs:{src:t.nowShadowPic}}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.hasData,expression:"hasData"}],staticClass:"pageList"},[e("div",{staticClass:"block"},[e("el-pagination",{attrs:{layout:"prev, pager, next","page-size":t.pageSize,total:t.rawTableData.length},on:{"current-change":t.freshTableByPage}})],1)])],1):t._e()},staticRenderFns:[]};var W=e("C7Lr")(z,E,!1,function(t){e("VTgS")},"data-v-4064510c",null).exports;s.default.use(r.a);var B=new r.a({routes:[{path:"/login",name:"login",component:c},{path:"/manager",component:h,children:[{path:"/",name:"mainpage",component:T},{path:"nav",name:"navs",component:y},{path:"barrage",name:"barrage",component:$},{path:"usermanage",name:"usermanage",component:P},{path:"imagemanage",name:"imagemanage",component:W}]},{path:"*",redirect:"/login"}]}),N=(e("34KM"),e("D8LU"),e("OolZ")),R=e("jsbU"),U=e.n(R);s.default.use(N.a),s.default.config.productionTip=!1,s.default.use(U.a),s.default.http.options.emulateJSON=!0,new s.default({el:"#app",router:B,render:function(t){return t(i)}})},OgM9:function(t,a){},PEgP:function(t,a){},Rzua:function(t,a){},USGI:function(t,a){},VTgS:function(t,a){},ZMBT:function(t,a){},m14L:function(t,a){},"vW+b":function(t,a,e){t.exports=e.p+"static/img/title.2630335.png"}},["NHnr"]);
//# sourceMappingURL=app.ac4713b41a5cad58b46b.js.map